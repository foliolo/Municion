Full refactoring with a brand new architecture and tons of improvements